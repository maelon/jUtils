!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jUtils=t():e.jUtils=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t){e.exports=function(){var e=function(){if(e._instance)throw new Error("Utils is singleton, please use Utils.getInstance()")};return e.prototype={isDebug:!1,useDebug:function(e){this.isDebug=!!e},debugAlert:function(e,t){this.isDebug&&setTimeout(function(e){window.alert(e)},t||0,e)},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},ltrim:function(e){return e.replace(/(^\s*)/g,"")},rtrim:function(e){return e.replace(/(\s*$)/g,"")},clone:function(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.clone(e[n]));return t},transTime:function(e,t){var n=[],r=parseInt(e/36e5/24,10),o=parseInt((e-24*r*36e5)/36e5%24,10),i=parseInt((e-24*r*36e5-36e5*o)/6e4%60,10),a=parseInt((e-24*r*36e5-36e5*o-6e4*i)/1e3,10),s=(new Date).getTimezoneOffset()/60,u=o-s;return n.push(r>=0?r:""),n.push(u>=0?t?(u>9?"":"0")+u:u:""),n.push(i>=0?t?(i>9?"":"0")+i:i:""),n.push(a>=0?t?(a>9?"":"0")+a:a:""),n},appTypeEnum:{},getAppType:function(){var e=window.navigator.userAgent.toLowerCase(),t=e.match(/MicroMessenger/i);if(t&&"micromessenger"===t[0])return"weixin";for(var n in this.appTypeEnum)if(t=e.match(new RegExp(n,"i")),t&&t[0]===n.toLowerCase())return this.appTypeEnum[n];return"app"},extendClass:function(e,t){if("function"!=typeof e)throw new TypeError("extendClass child must be function type");if("function"!=typeof t)throw new TypeError("extendClass parent must be function type");if(e!==t){var n=new Function;return n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},decorate:function(e,t){for(var n in t)e[n]=t[n];return e},css:function(e,t,n){switch(arguments.length){case 2:if("object"!=typeof arguments[1])return e.currentStyle?e.currentStyle[t]:getComputedStyle(e,null)[t];for(var r in t)e.style[r]=t[r];break;case 3:e.style[t]=n;break;default:return""}},hasClass:function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){if(!this.hasClass(e,t)){var n=e.className.split(/\s+/);n.push(t+""),e.className=n.join(" ")}},removeClass:function(e,t){if(this.hasClass(e,t)){var n=new RegExp("(\\s+|^)"+t+"(\\s+|$)");e.className=e.className.replace(n," ")}},createStyleSheet:function(e,t){var n=document.createElement("style");n.type="text/css",document.head.appendChild(n);var r,o=["","-webkit-","-moz-"],i=function(e,t){var n,r,i=[];for(var a in e){n=e[a],r=[];for(var s in n)if(["animate","transform","transform-origin"].indexOf(s)<0)r.push(s+":"+n[s]+";");else if(void 0!==t)r.push(t+s+":"+n[s]+";");else for(var u=0;u<o.length;u++)r.push(o[u]+s+":"+n[s]+";");i.push(a+" {"+r.join("")+"}")}return i},a=i(e),s=[];if(t){r=[];for(var u in t)for(var c=0;c<o.length;c++)s=i(t[u],o[c]),r.push("@"+o[c]+"keyframes "+u+" {"+s.join(" ")+"}");s=r}for(a=a.concat(s),c=0;c<a.length;c++)n.appendChild(document.createTextNode(a[c]));return n.sheet},requestAnimFrame:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/33)}}(),cancelAnimFrame:function(e){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){window.clearTimeout(e)}}(),getElementLeft:function(e){for(var t=e.offsetLeft,n=e.offsetParent;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t},getElementTop:function(e){for(var t=e.offsetTop,n=e.offsetParent;null!==n;)t+=n.offsetTop,n=n.offsetParent;return t},transImageToBase64:function(e,t){var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var r=n.getContext("2d");r.fillStyle="#FFF",r.fillRect(0,0,n.width,n.height),r.drawImage(e,0,0,n.width,n.height);var o=n.toDataURL("image/jpeg",t);return o},fixCanvasSmooth:function(e){var t=e.getContext("2d"),n=window.devicePixelRatio||1,r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1;if(n!==r){var o=n/r,i=e.width,a=e.height;e.width=i*o,e.height=a*o,e.style.width=i+"px",e.style.height=a+"px"}},jGUID:{__version:"0.1.0",callCount:0},makeSimpleGUID:function(){var e="00000000000000000000000000000000",t=Math.abs(this.jGUID.callCount++),n=t.toString(16);return e=(e+n).slice(n.length),e.slice(0,8)+"-"+e.slice(8,12)+"-"+e.slice(12,16)+"-"+e.slice(16,20)+"-"+e.slice(20)},queryList:void 0,parseURL:function(e){var t=document.createElement("a");return t.href=e,{href:e,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,search:t.search,hash:t.hash,pathname:t.pathname}},getQueryList:function(e){if(void 0===e&&void 0!==this.queryList)return this.clone(this.queryList);var t=e?this.parseURL(e).search:window.location.search,n=t.match(new RegExp("[?&][^?&]+=?[^?&]*","g"));if(null===n)return e?[]:(!this.queryList&&(this.queryList={}),this.clone(this.queryList));for(var r,o,i={},a=0;a<n.length;a++)n[a]=n[a].substring(1),o=n[a].split("="),r=o[0],void 0!==i[r]?o.length>1&&i[r].push(o[1]):i[r]=o.length>1?[o[1]]:[];return e?i:(!this.queryList&&(this.queryList=i),this.clone(this.queryList))},getQueryString:function(e,t,n){var r=this.getQueryList(t),o=!!n;if(o){var i=e.toLowerCase(),a=[];for(var e in r)e.toLowerCase()===i&&(a=a.concat(r[e]));return a}return r[e]},setQueryString:function(e,t,n,r){var o=this.getQueryList(t),i=function(e,t,n){if(n){for(var r in t)if(r.toLowerCase()===e.toLowerCase())return!0;return!1}return void 0!==t[e]};for(var a in e)if(i(a,o,n))if(n)for(var s in o)s.toLowerCase()===a.toLowerCase()&&(null!==e[a]?o[s]=o[s].concat(e[a]instanceof Array?e[a]:[e[a]]):delete o[s]);else null!==e[a]?o[a]=o[a].concat(e[a]instanceof Array?e[a]:[e[a]]):delete o[a];else null!==e[a]&&(o[a]=e[a]instanceof Array?e[a]:[e[a]]);var u,c=[];for(a in o)if(r)o[a].length>0?(u=o[a].pop(),null!==u&&c.push(a+"="+u)):c.push(a);else if(o[a].length>0){if(o[a].indexOf(null)<0)for(var f=0;f<o[a].length;f++)u=o[a][f],c.push(a+"="+u)}else c.push(a);return"?"+c.join("&")},setQueryStringURL:function(e,t,n,r){var o=t?this.parseURL(t):window.location;return o.protocol+"//"+o.host+o.pathname+this.setQueryString(e,t,n,r)+o.hash},setCookie:function(e,t,n){var r=new Date;r.setTime(r.getTime()+n),document.cookie=e+"="+escape(t)+"; path=/; expires="+r.toGMTString()},getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},removeCookie:function(e){var t=new Date;t.setTime(t.getTime()-1);var n=this.getCookie(e);null!==n&&(document.cookie=e+"="+n+"; path=/; expires="+t.toGMTString())},validatePhoneNumberFormat:function(e){var t=/^(1((3[0-9])|(5[0-3|5-9])|(8[0-9])|(45|47|7[6-8]|70))\d{8})$/;return!!t.test(e)},validatePhoneCodeFormat:function(e){var t=/^[\d]{4}$/;return!!t.test(e)},validatePhoneCode6Format:function(e){var t=/^[\d]{6}$/;return!!t.test(e)},validatePasswordFormat:function(e){var t=/^[\w]{6,16}$/;return!!t.test(e)},ajax:function(e){var t=e.method&&e.method.toLowerCase();if(t&&"get"!==t&&"post"!==t)throw new Error("Invalid ajax method");var n=e.url;if(void 0===n||"string"!=typeof n||""===n)throw new Error("Invalid ajax url");var r;if(window.XMLHttpRequest)r=new XMLHttpRequest;else if(window.ActiveXObject)try{r=new ActiveXObject("Msxml2.XMLHTTP")}catch(o){try{r=new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}if(!r)throw new Error("Not support xmlhttprequest");r.jajax={},r.jajax.dataType="",e.dataType&&"string"==typeof e.dataType&&(r.responseType=e.dataType.toLowerCase(),r.jajax.dataType=e.dataType.toLowerCase()),void 0!==e.timeout&&(r.timeout=parseInt(e.timeout)||0),e.success&&"function"==typeof e.success&&(r.jajax.success=e.success),e.error&&"function"==typeof e.error&&(r.jajax.error=e.error),void 0!==e.withCredentials&&(r.withCredentials=!!e.withCredentials),r.onreadystatechange=function(e){if(4===this.readyState)if(200===this.status){if(""===this.jajax.dataType||"text"===this.jajax.dataType)this.jajax.success&&this.jajax.success(this.responseText,this);else if("json"===this.jajax.dataType)if("[object Object]"===Object.prototype.toString.call(this.response))this.jajax.success&&this.jajax.success(this.response,this);else{var t=this.response;try{t=JSON.parse(this.response)}catch(e){}this.jajax.success&&this.jajax.success(t,this)}}else this.jajax.error&&this.jajax.error(this.statusText,this)},t=t||"get";var i=void 0!==e.async?!!e.async:!0,a=e.data||null,s=function(e,t){if(e){if("[object Object]"===Object.prototype.toString.call(e)){if("json"===t)return JSON.stringify(e);if("form"===t||null===t){var n=[];for(var r in e)e[r]?n.push(r+"="+e[r]):n.push(r);return n.join("&")}return e}return e}return""};if("get"===t){var e=s(a,"form");n=n.replace(/((\?*&*|&*\?*)#\w*)$/,""),n=n+(n.indexOf("?")<0&&e?"?":"")+e,r.open(t,n,i),r.send()}else if("post"===t){r.open(t,n,i);var u="form";if(e.header&&"[object Object]"===Object.prototype.toString.call(e.header)){var c=e.header;for(var f in c)if("contenttype"!==f.toLowerCase())r.setRequestHeader(f,c[f]);else{var l=this.__jajax.contentType[c[f]]||c[f];l.indexOf("x-www-form-urlencoded")>-1?(r.setRequestHeader("Content-Type",l),u="form"):l.indexOf("json")>-1?(r.setRequestHeader("Content-Type",l),u="json"):u=null}}r.send(s(a,u))}},__jajax:{__version:"0.1.0",contentType:{form:"application/x-www-form-urlencoded; charset=utf-8",json:"application/json; charset=utf-8",multipart:"multipart/form-data; charset=utf-8"}},mergeSortArray:function(e,t){function n(e,t,n){for(var r=[],o=0,i=0;o<e.length&&i<t.length;)"function"==typeof n?n(e[o],t[i])<=0?r.push(e[o++]):r.push(t[i++]):e[o]<=t[i]?r.push(e[o++]):r.push(t[i++]);return r.concat(e.slice(o)).concat(t.slice(i))}function r(e,t){if(e.length<2)return e;var o=Math.floor(e.length/2),i=e.slice(0,o),a=e.slice(o);return n(r(i,t),r(a,t),t)}return r(e,t)},detectOS:function(){var e=window.navigator.userAgent;return/iPhone|iPad|iPod/i.test(e)?"ios":/android/i.test(e)?"android":"other"}},e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},new e}()}])});